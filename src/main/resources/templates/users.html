<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">
<body>

	<div layout:fragment="content">
		<div th:include="menuFragment"></div>
		<!-- 		<p class="lead" th:if="${message}"><span th:text="${message}" style='color: #aa0'/></p>
 -->
		<h5 class="text-info">Users list</h5>
		<form action="showAddUserForm" method="GET">
			<button class="btn btn-info" type="submit">Add user</button>
			<p class="lead" th:if="${message}">
				<span th:text="${message}" style='color: #aa0' />
			</p>
		</form>
		<div class="container">
			<table class="table table-striped table-hover">
				<thead class="thead-dark">
					<tr>
						<th>name</th>
						<th>role</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="user: ${usersDtoList}">
						<td><span th:text="${user.name}" /></td>
						<td><span th:if="${user.isadmin}==true" >admin</span>
							<span th:if="${user.isadmin}==false" >user</span></td>
		
						<td>
							<div class="form-group">

								<form class="d-inline p-2" action="showEditUserForm" method="GET">
									<input type="hidden" name="userId" th:value="${user.id}" />
									<button class="btn btn-info" type="submit">Edit</button>
								</form>
								<form class="d-inline p-2" action="deleteUser" method="POST">
									<input type="hidden" name="userId" th:value="${user.id}" />
									<button class="btn btn-warning" type="submit">Delete</button>
								</form>

							</div>

						</td>

					</tr>
				</tbody>
			</table>
		</div>
	</div>

</body>
</html>